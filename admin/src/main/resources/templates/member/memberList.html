<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="/fragments/header.html :: head"></div>
    <script type="text/javascript" src="/script/member/list.js"></script>
    <script type="text/javascript" src="/script/member/add.js"></script>
    <script type="text/javascript" src="/script/member/edit.js"></script>
</head>
<body>
<div th:replace="/fragments/nav.html :: nav"></div>

<div class="jumbotron jumbotron-fluid">
    <h1>Member List</h1>
    <div>
        <label for="filter-memberId">Member ID</label>
        <input type="text" id="filter-memberId"/>

        <label for="filter-email">Email</label>
        <input type="text" id="filter-email"/>

        <label for="filter-name">Name</label>
        <input type="text" id="filter-name"/>

        <label for="filter-status">Status</label>
        <select id="filter-status">
            <option value="ACTIVE">ACTIVE</option>
            <option value="BLOCKED">BLOCKED</option>
            <option value="WITHDRAWN">WITHDRAWN</option>
        </select>

        <label for="filter-startDate">Start Date</label>
        <input type="date" id="filter-startDate"/>

        <label for="filter-endDate">End Date</label>
        <input type="date" id="filter-endDate"/>

        <button id="searchBtn">Search</button>
        <button id="clearBtn">Clear</button>
        <button id="downloadBtn">Download Excel</button>
        <button id="openModalBtn">회원 추가</button>
    </div>

    <table border="1">
        <thead>
        <tr>
            <th>Member ID</th>
            <th>Email</th>
            <th>Name</th>
            <th>Role</th>
            <th>Status</th>
            <th>Join Date</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody id="memberTableBody">
        </tbody>
    </table>

    <div id="pagination"></div>

    <div id="memberAddModal"
         style="display:none; position:fixed; top:10%; left:50%; transform:translate(-50%, 0); width:400px; background-color:white; padding:20px; border:1px solid #ccc; box-shadow:0 0 10px rgba(0,0,0,0.1);">
        <h2>회원 추가</h2>
        <label for="register-name">이름</label>
        <input type="text" id="register-name" required/><br/>

        <label for="register-email">이메일</label>
        <input type="email" id="register-email" required/><br/>

        <label for="register-role">권한</label>
        <select id="register-role" required>
            <option value="USER" selected>USER</option>
            <option value="CREATOR">CREATOR</option>
            <option value="USER_MANAGER">USER_MANAGER</option>
            <option value="NOTIFICATION_MANAGER">NOTIFICATION_MANAGER</option>
            <option value="ADMIN">ADMIN</option>
            <option value="SUPER_ADMIN">SUPER_ADMIN</option>
        </select><br/>

        <button id="addMemberBtn">추가</button>
        <button id="closeModalBtn">닫기</button>
    </div>

    <div id="memberEditModal"
         style="display:none; position:fixed; top:10%; left:50%; transform:translate(-50%, 0); width:400px; background-color:white; padding:20px; border:1px solid #ccc; box-shadow:0 0 10px rgba(0,0,0,0.1);">
        <h2>회원 수정</h2>
        <label for="edit-memberId">회원 번호</label>
        <input type="text" id="edit-memberId" readonly/><br/>

        <label for="edit-name">이름</label>
        <input type="text" id="edit-name" required/><br/>

        <label for="edit-email">이메일</label>
        <input type="email" id="edit-email" required/><br/>

        <label for="edit-role">권한</label>
        <select id="edit-role" required>
            <option value="USER" selected>USER</option>
            <option value="CREATOR">CREATOR</option>
            <option value="USER_MANAGER">USER_MANAGER</option>
            <option value="NOTIFICATION_MANAGER">NOTIFICATION_MANAGER</option>
            <option value="ADMIN">ADMIN</option>
            <option value="SUPER_ADMIN">SUPER_ADMIN</option>
        </select><br/>

        <label for="edit-status">상태</label>
        <select id="edit-status">
            <option value="ACTIVE">ACTIVE</option>
            <option value="BLOCKED">BLOCKED</option>
            <option value="WITHDRAWN">WITHDRAWN</option>
        </select><br/>

        <button id="saveEditMemberBtn">저장</button>
        <button id="closeEditModalBtn">닫기</button>
    </div>
</div>

<footer th:replace="/fragments/footer.html :: footer"></footer>
</body>
</html>
